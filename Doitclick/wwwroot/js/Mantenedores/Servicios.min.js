function render(){$("#listado > tbody").html("");modelo.materiales.forEach(n=>{var t=$("<tr>"),f=$("<td>").append(n.nombre),i,r,u;t.append(f);i=$("<td>").append(n.unidadMedida);t.append(i);r=$("<td>").append(n.precio.toMoney());t.append(r);u=$("<td>").append(n.stock);t.append(u);$("#listado > tbody").append(t)})}var modelo={NombreServicio:"",DescripcionServicio:"",CodigoServicio:"",VManoObra:null,PorcentajeComision:null,materiales:[]};$(function(){$(".btn-guardar-material").on("click",function(){const n={materialId:$("#material").val(),cantidad:$("#cantidad").val(),nombre:$("#material option:selected").text(),stock:$("#material option:selected").data("stocka"),unidadMedida:$("#material option:selected").data("um"),precio:parseInt($("#material option:selected").data("valor")),valorTotal:parseInt($("#material option:selected").data("valor"))*parseInt($("#cantidad").val())};modelo.materiales.push(n);render();console.log(modelo)});$("#frm-ingreso-servicios").on("submit",function(){var n=$(this).serializeFormJSON();return Object.assign(modelo,n),$.ajax({type:"POST",url:"/api/mantenedor/servicios",data:JSON.stringify(modelo),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){console.log(n)},failure:function(n){console.log(n)}}),!1})});